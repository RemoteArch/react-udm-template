const{useState:e,useEffect:t,useCallback:a,useMemo:r}=React,l=(...e)=>e.filter(Boolean).join("/").replace(/\/+/g,"/"),n=(e,t)=>{if(t)return y.Folder;switch(e.split(".").pop().toLowerCase()){case"txt":case"md":case"log":return y.FileText;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"json":case"py":return y.FileCode;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":return y.FileImage;case"zip":case"rar":case"7z":case"gz":return y.FileZip;default:return y.File}},c=({path:e,onNavigate:t})=>{const a=e.split("/").filter(Boolean);return React.createElement("div",{className:"flex items-center gap-1 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide"},React.createElement("button",{onClick:()=>t(""),className:"px-2 py-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white transition-colors flex items-center gap-1.5"},React.createElement(y.Home,{className:"w-3.5 h-3.5"}),React.createElement("span",{className:"font-medium"},"root")),a.map(((e,r)=>React.createElement(React.Fragment,{key:r},React.createElement(y.ChevronRight,{className:"w-3 h-3 text-gray-600"}),React.createElement("button",{onClick:()=>t(a.slice(0,r+1).join("/")),className:"px-2 py-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white transition-colors font-medium"},e)))))},o=({item:e,isSelected:t,onSelect:a,onOpen:r,onContextMenu:l})=>{const c=n(e.name,e.isDir);return React.createElement("div",{onClick:a,onDoubleClick:r,onContextMenu:l,className:"flex flex-col items-center p-3 rounded-xl cursor-default select-none transition-all group border\n        "+(t?"bg-blue-600/20 border-blue-500/50 shadow-[0_0_15px_rgba(59,130,246,0.1)]":"bg-transparent border-transparent hover:bg-gray-800/40 hover:border-gray-700/50")},React.createElement("div",{className:"relative p-3 rounded-lg mb-2 transition-transform duration-200 group-hover:scale-110\n        "+(e.isDir?"text-blue-400":"text-gray-400")},React.createElement(c,{className:"w-12 h-12"}),e.isDir&&React.createElement("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-gray-900 border border-gray-700 rounded-full flex items-center justify-center scale-0 group-hover:scale-100 transition-transform"})),React.createElement("span",{className:"text-[11px] font-medium text-center truncate w-full px-1",title:e.name},e.name))},s=({item:e,isSelected:t,onSelect:a,onOpen:r,onContextMenu:l})=>{const c=n(e.name,e.isDir);return React.createElement("div",{onClick:a,onDoubleClick:r,onContextMenu:l,className:"flex items-center gap-4 px-4 py-2 cursor-default select-none transition-colors\n        "+(t?"bg-blue-600/20 text-blue-400":"hover:bg-gray-800/50 text-gray-300")},React.createElement("div",{className:"flex-shrink-0 "+(e.isDir?"text-blue-400":"text-gray-500")},React.createElement(c,{className:"w-4 h-4"})),React.createElement("div",{className:"flex-1 min-w-0 font-medium text-sm truncate"},e.name),React.createElement("div",{className:"w-24 text-right text-xs font-mono text-gray-500"},e.isDir?"-":(e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]})(e.size)),React.createElement("div",{className:"w-36 text-right text-xs font-mono text-gray-500"},(e=>{if(!e)return"-";const t=new Date(e);return Number.isNaN(t.getTime())?"-":t.toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})(e.modifiedAt)))},i=({x:e,y:a,items:r,onClose:l})=>(t((()=>{const e=()=>l();return window.addEventListener("click",e),()=>window.removeEventListener("click",e)}),[l]),React.createElement("div",{className:"fixed z-[9999] w-56 bg-gray-900/95 backdrop-blur-xl border border-gray-800 rounded-lg shadow-2xl py-1 animate-in fade-in zoom-in duration-100",style:{top:a,left:e},onClick:e=>e.stopPropagation()},r.map(((e,t)=>e.separator?React.createElement("div",{key:t,className:"my-1 border-t border-gray-800"}):React.createElement("button",{key:t,onClick:()=>{e.onClick(),l()},className:"w-full flex items-center gap-3 px-3 py-1.5 text-xs font-medium text-gray-300 hover:bg-blue-600 hover:text-white transition-colors group"},e.icon&&React.createElement(e.icon,{className:"w-3.5 h-3.5 text-gray-500 group-hover:text-white"}),React.createElement("span",null,e.label)))))),m=({isOpen:e,onClose:t,title:a,children:r,size:l="md"})=>{if(!e)return null;return React.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200"},React.createElement("div",{className:`w-full ${{sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"}[l]} bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in duration-300`,onClick:e=>e.stopPropagation()},React.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800"},React.createElement("h3",{className:"text-sm font-bold text-gray-200 uppercase tracking-wider"},a),React.createElement("button",{onClick:t,className:"p-2 hover:bg-gray-800 rounded-lg text-gray-500 hover:text-white transition-colors"},React.createElement(y.Close,{className:"w-4 h-4"}))),React.createElement("div",{className:"p-6"},r)))},d=({path:t,content:a,isNew:r,onSave:n,onClose:c})=>{const[o,s]=e(a),[i,m]=e(r?"":t.split("/").pop()),[d,u]=e(!1);return React.createElement("div",{className:"flex flex-col gap-4"},r&&React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Nom du fichier"),React.createElement("input",{type:"text",value:i,onChange:e=>m(e.target.value),className:"w-full bg-black border border-gray-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors",placeholder:"script.js",autoFocus:!0})),React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Contenu"),React.createElement("textarea",{value:o,onChange:e=>s(e.target.value),className:"w-full h-96 bg-black border border-gray-800 rounded-lg px-4 py-3 text-sm font-mono focus:outline-none focus:border-blue-500 transition-colors resize-none",spellCheck:"false"})),React.createElement("div",{className:"flex justify-end gap-3 mt-2"},React.createElement("button",{onClick:c,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:async()=>{u(!0);try{const e=r?l(t,i):t;await n(e,o)}finally{u(!1)}},disabled:d||r&&!i,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-sm font-bold transition-all shadow-lg shadow-blue-600/20"},d?"Enregistrement...":"Enregistrer")))},u=({currentPath:t,onCreate:a,onClose:r})=>{const[n,c]=e(""),[o,s]=e(!1);return React.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),n.trim()){s(!0);try{await a(l(t,n.trim())),r()}finally{s(!1)}}},className:"flex flex-col gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Nom du dossier"),React.createElement("input",{type:"text",value:n,onChange:e=>c(e.target.value),className:"w-full bg-black border border-gray-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Nouveau dossier",autoFocus:!0})),React.createElement("div",{className:"flex justify-end gap-3"},React.createElement("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{type:"submit",disabled:o||!n.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all"},"Créer")))},p=({currentPath:t,onUpload:a,onClose:r})=>{const[l,n]=e([]),[c,o]=e({}),[s,i]=e(!1);return React.createElement("div",{className:"flex flex-col gap-6"},React.createElement("div",{className:"relative group"},React.createElement("input",{type:"file",multiple:!0,onChange:e=>{n(Array.from(e.target.files))},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),React.createElement("div",{className:"border-2 border-dashed border-gray-800 group-hover:border-blue-500/50 rounded-2xl p-8 transition-colors text-center"},React.createElement(y.Upload,{className:"w-10 h-10 text-gray-600 group-hover:text-blue-400 mx-auto mb-3 transition-colors"}),React.createElement("p",{className:"text-sm text-gray-400 group-hover:text-gray-300"},l.length>0?`${l.length} fichiers sélectionnés`:"Cliquez ou glissez-déposez pour uploader"))),l.length>0&&React.createElement("div",{className:"max-h-48 overflow-y-auto space-y-2 px-1"},l.map((e=>React.createElement("div",{key:e.name,className:"flex flex-col gap-1.5 p-3 bg-black/50 border border-gray-800 rounded-xl"},React.createElement("div",{className:"flex justify-between items-center text-xs"},React.createElement("span",{className:"font-medium text-gray-300 truncate max-w-[200px]"},e.name),React.createElement("span",{className:"text-gray-500 font-mono"},c[e.name]||0,"%")),React.createElement("div",{className:"h-1 bg-gray-800 rounded-full overflow-hidden"},React.createElement("div",{className:"h-full bg-blue-500 transition-all duration-300 shadow-[0_0_8px_rgba(59,130,246,0.5)]",style:{width:`${c[e.name]||0}%`}})))))),React.createElement("div",{className:"flex justify-end gap-3 border-t border-gray-800 pt-6"},React.createElement("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:async()=>{i(!0);for(const e of l)await a(t,e,(t=>{o((a=>({...a,[e.name]:t})))}));i(!1),r()},disabled:0===l.length||s,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all shadow-lg shadow-blue-600/20"},s?"Transfert en cours...":"Démarrer l'upload")))},x=({selectedItems:t,onDelete:a,onClose:r})=>{const[l,n]=e(!1);return React.createElement("div",{className:"flex flex-col gap-4"},React.createElement("div",{className:"flex items-center gap-4 p-4 bg-red-900/10 border border-red-900/20 rounded-xl"},React.createElement(y.Trash,{className:"w-8 h-8 text-red-500"}),React.createElement("div",null,React.createElement("p",{className:"text-sm font-bold text-red-400"},"Confirmer la suppression ?"),React.createElement("p",{className:"text-xs text-red-400/70"},"Cette action est irréversible."))),React.createElement("p",{className:"text-sm text-gray-400 px-1"},"Êtes-vous sûr de vouloir supprimer ",t.length," élément(s) ?"),React.createElement("div",{className:"flex justify-end gap-3 mt-2"},React.createElement("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:async()=>{n(!0);try{await a(),r()}finally{n(!1)}},disabled:l,className:"px-6 py-2 bg-red-600 hover:bg-red-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all shadow-lg shadow-red-600/20"},"Supprimer")))},h=({selectedItems:t,currentPath:a,onZip:r,onClose:n})=>{const[c,o]=e(1===t.length?`${t[0].name}.zip`:"archive.zip"),[s,i]=e(!1);return React.createElement("div",{className:"flex flex-col gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Nom de l'archive"),React.createElement("input",{type:"text",value:c,onChange:e=>o(e.target.value),className:"w-full bg-black border border-gray-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors",placeholder:"archive.zip",autoFocus:!0})),React.createElement("div",{className:"flex justify-end gap-3"},React.createElement("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:async()=>{i(!0);try{const e=t.map((e=>l(a,e.name)));await r(l(a,c),e),n()}finally{i(!1)}},disabled:s||!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all"},"Compresser")))},b=({selectedItem:t,currentPath:a,onUnzip:r,onClose:n})=>{const[c,o]=e(a),[s,i]=e(!1);return React.createElement("div",{className:"flex flex-col gap-4"},React.createElement("div",{className:"p-3 bg-blue-900/10 border border-blue-900/20 rounded-xl mb-2"},React.createElement("p",{className:"text-xs font-bold text-blue-400 uppercase mb-1"},"Archive"),React.createElement("p",{className:"text-sm text-gray-300 font-mono truncate"},t.name)),React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Dossier de destination"),React.createElement("input",{type:"text",value:c,onChange:e=>o(e.target.value),className:"w-full bg-black border border-gray-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors",placeholder:"/destination/path"})),React.createElement("div",{className:"flex justify-end gap-3"},React.createElement("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:async()=>{i(!0);try{await r(l(a,t.name),c),n()}finally{i(!1)}},disabled:s,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all"},"Extraire")))},g=1048576,y={Folder:({className:e="w-5 h-5"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2z"})),FolderOpen:({className:e="w-5 h-5"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2"})),File:({className:e="w-5 h-5"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),React.createElement("polyline",{points:"14 2 14 8 20 8"})),FileText:({className:e="w-5 h-5"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),React.createElement("polyline",{points:"14 2 14 8 20 8"}),React.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),React.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),React.createElement("line",{x1:"10",y1:"9",x2:"8",y2:"9"})),FileCode:({className:e="w-5 h-5"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),React.createElement("polyline",{points:"14 2 14 8 20 8"}),React.createElement("path",{d:"m10 13-2 2 2 2"}),React.createElement("path",{d:"m14 17 2-2-2-2"})),FileImage:({className:e="w-5 h-5"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),React.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),React.createElement("polyline",{points:"21 15 16 10 5 21"})),FileZip:({className:e="w-5 h-5"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),React.createElement("polyline",{points:"14 2 14 8 20 8"}),React.createElement("path",{d:"M12 12v6"}),React.createElement("path",{d:"m15 15-3 3-3-3"})),ChevronRight:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"9 18 15 12 9 6"})),ChevronDown:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"6 9 12 15 18 9"})),Plus:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),React.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),Trash:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"3 6 5 6 21 6"}),React.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),React.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),React.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"})),Edit:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),React.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})),Download:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),React.createElement("polyline",{points:"7 10 12 15 17 10"}),React.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),Upload:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),React.createElement("polyline",{points:"17 8 12 3 7 8"}),React.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"})),Refresh:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),React.createElement("polyline",{points:"21 3 21 8 16 8"})),Home:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),React.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})),Copy:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),React.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})),Cut:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("circle",{cx:"6",cy:"6",r:"3"}),React.createElement("circle",{cx:"6",cy:"18",r:"3"}),React.createElement("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),React.createElement("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),React.createElement("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"})),Archive:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"21 8 21 21 3 21 3 8"}),React.createElement("rect",{x:"1",y:"3",width:"22",height:"5"}),React.createElement("line",{x1:"10",y1:"12",x2:"14",y2:"12"})),Extract:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),React.createElement("polyline",{points:"7 10 12 5 17 10"}),React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"15"})),Close:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Check:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"20 6 9 17 4 12"})),Save:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),React.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),React.createElement("polyline",{points:"7 3 7 8 15 8"})),Grid:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),React.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),React.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),React.createElement("rect",{x:"3",y:"14",width:"7",height:"7"})),List:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),React.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),React.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),React.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),React.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),React.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})),Search:({className:e="w-4 h-4"})=>React.createElement("svg",{className:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("circle",{cx:"11",cy:"11",r:"8"}),React.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))},f=({onRefresh:e,onNewFile:t,onNewFolder:a,onUpload:r,onDelete:l,onZip:n,onUnzip:c,selectedCount:o,viewMode:s,onViewModeChange:i,searchQuery:m,onSearchChange:d})=>React.createElement("div",{className:"flex items-center gap-2 p-3 bg-gray-900/90 border-b border-gray-800 flex-wrap backdrop-blur-md"},React.createElement("div",{className:"flex items-center gap-1"},React.createElement("button",{onClick:e,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors",title:"Actualiser"},React.createElement(y.Refresh,{className:"w-4 h-4"}))),React.createElement("div",{className:"w-px h-6 bg-gray-800 mx-1"}),React.createElement("div",{className:"flex items-center gap-1"},React.createElement("button",{onClick:t,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors flex items-center gap-2",title:"Nouveau fichier"},React.createElement(y.Plus,{className:"w-4 h-4"}),React.createElement("span",{className:"text-xs font-medium hidden lg:inline"},"Nouveau")),React.createElement("button",{onClick:a,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors",title:"Nouveau dossier"},React.createElement(y.Folder,{className:"w-4 h-4"})),React.createElement("button",{onClick:r,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors flex items-center gap-2",title:"Uploader"},React.createElement(y.Upload,{className:"w-4 h-4"}),React.createElement("span",{className:"text-xs font-medium hidden lg:inline"},"Importer"))),React.createElement("div",{className:"w-px h-6 bg-gray-800 mx-1"}),React.createElement("div",{className:"flex items-center gap-1"},React.createElement("button",{onClick:l,disabled:0===o,className:"p-2 hover:bg-red-950/30 text-gray-400 hover:text-red-400 rounded-md transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Supprimer"},React.createElement(y.Trash,{className:"w-4 h-4"})),React.createElement("button",{onClick:n,disabled:0===o,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Compresser"},React.createElement(y.Archive,{className:"w-4 h-4"})),React.createElement("button",{onClick:c,disabled:1!==o,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Extraire"},React.createElement(y.Extract,{className:"w-4 h-4"}))),React.createElement("div",{className:"flex-1"}),React.createElement("div",{className:"relative flex items-center"},React.createElement(y.Search,{className:"absolute left-3 w-3.5 h-3.5 text-gray-500"}),React.createElement("input",{type:"text",value:m,onChange:e=>d(e.target.value),placeholder:"Rechercher...",className:"pl-9 pr-3 py-1.5 bg-gray-950/50 border border-gray-800 rounded-lg text-xs w-48 lg:w-64 focus:outline-none focus:border-blue-500/50 focus:bg-gray-950 transition-all"})),React.createElement("div",{className:"flex bg-gray-950/50 p-1 rounded-lg border border-gray-800"},React.createElement("button",{onClick:()=>i("grid"),className:"p-1.5 rounded-md transition-all "+("grid"===s?"bg-gray-800 text-blue-400 shadow-sm":"text-gray-500 hover:text-gray-300")},React.createElement(y.Grid,{className:"w-3.5 h-3.5"})),React.createElement("button",{onClick:()=>i("list"),className:"p-1.5 rounded-md transition-all "+("list"===s?"bg-gray-800 text-blue-400 shadow-sm":"text-gray-500 hover:text-gray-300")},React.createElement(y.List,{className:"w-3.5 h-3.5"})))),R=({baseUrl:n="",className:R=""})=>{const[E,v]=e(""),[w,N]=e([]),[k,C]=e(!1),[z,L]=e(null),[j,S]=e(new Set),[F,B]=e("list"),[M,D]=e(""),[A,O]=e(null),[P,W]=e({type:null,data:null}),U=r((()=>(e=>{const t=async(t,a={})=>{const r=`${e}${t}`,l=await fetch(r,{...a,headers:{"Content-Type":"application/json",...a.headers}}),n=await l.json();if(!n.success)throw new Error(n.error||"Erreur API");return n.data};return{list:(e="",a=!1)=>t(`/list?path=${encodeURIComponent(e)}&recursive=${a?1:0}`),read:(e,a="text")=>t(`/read?path=${encodeURIComponent(e)}&mode=${a}`),write:async(t,a,r=!0)=>{const l=new Blob([a],{type:"application/octet-stream"}),n=new FormData;n.append("path",t),n.append("mkdirs",r?"1":"0"),n.append("file",l,t.split("/").pop());const c=await fetch(`${e}/write`,{method:"POST",body:n}),o=await c.json();if(!o.success)throw new Error(o.error||"Erreur écriture");return o.data},upload:async(t,a,r=!0,l=null)=>{const n=a.size,c=Math.ceil(n/g);for(let o=0;o<c;o++){const s=o*g,i=Math.min(s+g,n),m=a.slice(s,i),d=new FormData;d.append("path",t),d.append("mkdirs",r?"1":"0"),o>0&&d.append("add","1"),d.append("file",m,a.name);const u=await fetch(`${e}/write`,{method:"POST",body:d}),p=await u.json();if(!p.success)throw new Error(p.error||"Erreur upload");l&&l(Math.round((o+1)/c*100))}return{success:!0}},delete:(e,a=!0)=>t("/delete",{method:"POST",body:JSON.stringify({...Array.isArray(e)?{paths:e}:{path:e},deleteDir:a})}),mkdir:e=>t("/mkdir",{method:"POST",body:JSON.stringify({path:e})}),zip:(e,a)=>t("/zip",{method:"POST",body:JSON.stringify({zipPath:e,paths:a})}),unzip:(e,a)=>t("/unzip",{method:"POST",body:JSON.stringify({zipPath:e,dest:a})})}})(n)),[n]),T=a((async(e="")=>{C(!0),L(null),S(new Set);try{const t=await U.list(e),a=t.items||t||[],r=a.map((e=>({...e,name:e.name||e.path?.split("/").pop()||e.path,isDir:e.isDir??"dir"===e.type}))).sort(((e,t)=>e.isDir!==t.isDir?t.isDir-e.isDir:e.name.localeCompare(t.name)));N(r),v(e)}catch(e){L(e.message)}finally{C(!1)}}),[U]);t((()=>{n&&T("")}),[n,T]);const H=r((()=>{if(!M)return w;const e=M.toLowerCase();return w.filter((t=>t.name.toLowerCase().includes(e)))}),[w,M]),$=r((()=>w.filter((e=>j.has(e.name)))),[w,j]),I=(e,t)=>{if(t.ctrlKey||t.metaKey)S((t=>{const a=new Set(t);return a.has(e.name)?a.delete(e.name):a.add(e.name),a}));else if(t.shiftKey&&j.size>0){const t=Array.from(j).pop(),a=w.findIndex((e=>e.name===t)),r=w.findIndex((t=>t.name===e.name)),[l,n]=[Math.min(a,r),Math.max(a,r)];S(new Set(w.slice(l,n+1).map((e=>e.name))))}else S(new Set([e.name]))},_=async e=>{if(e.isDir)T(l(E,e.name));else try{const t=await U.read(l(E,e.name),"text");W({type:"edit",data:{path:l(E,e.name),content:t.content||t}})}catch(e){L(`Impossible de lire le fichier: ${e.message}`)}},V=(e,t)=>{t.preventDefault(),j.has(e.name)||S(new Set([e.name])),O({x:t.clientX,y:t.clientY,items:[{label:"Ouvrir",icon:y.FolderOpen,onClick:()=>_(e)},{label:"Renommer",icon:y.Edit,onClick:()=>{}},{separator:!0},{label:"Copier",icon:y.Copy,onClick:()=>{}},{label:"Couper",icon:y.Cut,onClick:()=>{}},{separator:!0},{label:"Compresser",icon:y.Archive,onClick:()=>W({type:"zip"})},...e.name.endsWith(".zip")?[{label:"Extraire",icon:y.Extract,onClick:()=>W({type:"unzip",data:e})}]:[],{separator:!0},{label:"Supprimer",icon:y.Trash,onClick:()=>W({type:"delete"}),danger:!0}]})},J=async(e,t)=>{await U.write(e,t),T(E),W({type:null})};return n?React.createElement("div",{className:`flex flex-col h-full bg-[#0B0F1A] text-slate-200 shadow-2xl overflow-hidden border border-white/5 ${R}`},React.createElement(f,{onRefresh:()=>T(E),onNewFile:()=>W({type:"newFile",data:{path:E}}),onNewFolder:()=>W({type:"newFolder"}),onUpload:()=>W({type:"upload"}),onDelete:()=>W({type:"delete"}),onZip:()=>W({type:"zip"}),onUnzip:()=>$[0]&&W({type:"unzip",data:$[0]}),selectedCount:j.size,viewMode:F,onViewModeChange:B,searchQuery:M,onSearchChange:D}),React.createElement("div",{className:"flex items-center px-4 py-3 bg-white/[0.02] border-b border-white/5 backdrop-blur-md gap-4"},React.createElement("div",{className:"flex items-center bg-black/40 rounded-lg p-1 border border-white/5"},React.createElement("button",{onClick:()=>{const e=E.split("/").slice(0,-1).join("/");T(e)},disabled:!E,className:"p-1.5 hover:bg-white/10 rounded-md disabled:opacity-20 transition-all active:scale-90"},React.createElement(y.ChevronDown,{className:"rotate-90 w-4 h-4"}))),React.createElement("div",{className:"flex-1 overflow-hidden"},React.createElement(c,{path:E,onNavigate:T}))),z&&React.createElement("div",{className:"mx-4 my-2 px-4 py-3 bg-red-500/10 border border-red-500/20 text-red-400 text-xs rounded-xl flex items-center gap-3 animate-in slide-in-from-top-1"},React.createElement(y.AlertCircle,{size:14}),React.createElement("span",{className:"font-medium"},z)),React.createElement("div",{className:"flex-1 overflow-auto custom-scrollbar relative",onClick:()=>S(new Set)},k?React.createElement("div",{className:"flex flex-col items-center justify-center h-full gap-4"},React.createElement("div",{className:"relative"},React.createElement("div",{className:"w-12 h-12 border-2 border-blue-500/20 border-t-blue-500 rounded-full animate-spin"}),React.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},React.createElement(y.Folder,{size:16,className:"text-blue-500 animate-pulse"}))),React.createElement("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 animate-pulse"},"Récupération...")):0===H.length?React.createElement("div",{className:"flex flex-col items-center justify-center h-full opacity-30"},React.createElement(y.FolderOpen,{className:"w-16 h-16 mb-4 stroke-[1px]"}),React.createElement("span",{className:"text-sm font-medium italic"},M?"Aucun résultat pour cette recherche":"Dossier vide")):"grid"===F?React.createElement("div",{className:"p-6 grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-6"},H.map((e=>React.createElement(o,{key:e.name,item:e,isSelected:j.has(e.name),onSelect:t=>{t.stopPropagation(),I(e,t)},onOpen:()=>_(e),onContextMenu:t=>V(e,t)})))):React.createElement("div",{className:"flex flex-col"},React.createElement("div",{className:"flex items-center px-6 py-3 text-[10px] font-bold text-slate-500 uppercase tracking-widest border-b border-white/5 sticky top-0 bg-[#0B0F1A]/95 backdrop-blur-sm z-10"},React.createElement("div",{className:"flex-1"},"Nom du fichier"),React.createElement("div",{className:"w-24 text-right"},"Taille"),React.createElement("div",{className:"w-40 text-right"},"Dernière modification")),React.createElement("div",{className:"px-2 py-2"},H.map((e=>React.createElement(s,{key:e.name,item:e,isSelected:j.has(e.name),onSelect:t=>{t.stopPropagation(),I(e,t)},onOpen:()=>_(e),onContextMenu:t=>V(e,t)})))))),React.createElement("div",{className:"px-5 py-2 bg-black/60 border-t border-white/5 text-[10px] text-slate-500 flex justify-between items-center backdrop-blur-xl"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:"flex items-center gap-1.5"},React.createElement("span",{className:"text-slate-300 font-bold"},H.length),React.createElement("span",null,"éléments")),j.size>0&&React.createElement("div",{className:"flex items-center gap-1.5 text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded-full border border-blue-400/20"},React.createElement(y.Check,{size:10,strokeWidth:3}),React.createElement("span",{className:"font-bold"},j.size," sélectionné(s)"))),React.createElement("div",{className:"flex items-center gap-3 font-mono opacity-50"},React.createElement("span",{className:"truncate max-w-[200px]"},n),React.createElement("div",{className:"w-2 h-2 rounded-full "+(k?"bg-amber-500 animate-pulse":"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]")}))),A&&React.createElement(i,{x:A.x,y:A.y,items:A.items,onClose:()=>O(null)}),React.createElement(m,{isOpen:"edit"===P.type,onClose:()=>W({type:null}),title:P.data?.path?.split("/").pop()||"Éditeur",size:"xl"},"edit"===P.type&&React.createElement(d,{path:P.data.path,content:P.data.content,onSave:J,onClose:()=>W({type:null})})),React.createElement(m,{isOpen:"newFile"===P.type,onClose:()=>W({type:null}),title:"Nouveau fichier",size:"xl"},"newFile"===P.type&&React.createElement(d,{path:P.data.path,content:"",isNew:!0,onSave:J,onClose:()=>W({type:null})})),React.createElement(m,{isOpen:"newFolder"===P.type,onClose:()=>W({type:null}),title:"Nouveau dossier",size:"sm"},"newFolder"===P.type&&React.createElement(u,{currentPath:E,onCreate:async e=>{await U.mkdir(e),T(E),W({type:null})},onClose:()=>W({type:null})})),React.createElement(m,{isOpen:"upload"===P.type,onClose:()=>W({type:null}),title:"Uploader des fichiers",size:"md"},"upload"===P.type&&React.createElement(p,{currentPath:E,onUpload:async(e,t,a)=>{await U.upload(e,t,!0,a),T(E),W({type:null})},onClose:()=>W({type:null})})),React.createElement(m,{isOpen:"delete"===P.type,onClose:()=>W({type:null}),title:"Confirmer la suppression",size:"sm"},"delete"===P.type&&React.createElement(x,{selectedItems:$,onDelete:async()=>{const e=$.map((e=>l(E,e.name)));await U.delete(e),T(E),W({type:null})},onClose:()=>W({type:null})})),React.createElement(m,{isOpen:"zip"===P.type,onClose:()=>W({type:null}),title:"Compresser",size:"sm"},"zip"===P.type&&React.createElement(h,{selectedItems:$,currentPath:E,onZip:async(e,t)=>{await U.zip(e,t),T(E),W({type:null})},onClose:()=>W({type:null})})),React.createElement(m,{isOpen:"unzip"===P.type,onClose:()=>W({type:null}),title:"Extraire",size:"sm"},"unzip"===P.type&&P.data&&React.createElement(b,{selectedItem:P.data,currentPath:E,onUnzip:async(e,t)=>{await U.unzip(e,t),T(E),W({type:null})},onClose:()=>W({type:null})}))):React.createElement("div",{className:`flex flex-col items-center justify-center h-64 bg-[#0B0F1A] text-slate-500 rounded-2xl border-2 border-dashed border-white/5 ${R}`},React.createElement(y.AlertTriangle,{className:"w-8 h-8 mb-2 opacity-20"}),React.createElement("p",{className:"text-sm font-medium italic"},"Veuillez configurer le baseUrl du serveur"))},E="http://cdn.jsdelivr.net/gh/remotearch/php-api-template/file.php";export default()=>{const[e,t]=React.useState((()=>{const e=localStorage.getItem("fileManagerUrls");if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?0===t.length?[]:"string"==typeof t[0]?t.map(((e,t)=>({name:String(e).replace(/^.*\//,"")||`Source ${t+1}`,url:String(e)}))):t.filter((e=>e&&"object"==typeof e)).map(((e,t)=>({name:"string"==typeof e.name&&e.name.trim()?e.name.trim():`Source ${t+1}`,url:"string"==typeof e.url?e.url:""}))).filter((e=>e.url)):[]}catch{return[]}})),[a,r]=React.useState(null),[l,n]=React.useState(""),[c,o]=React.useState(""),[s,i]=React.useState(!1);React.useEffect((()=>{localStorage.setItem("fileManagerUrls",JSON.stringify(e))}),[e]);const d=()=>{const a=l.trim(),r=c.trim();a&&r&&(e.some((e=>e.url===r))||(t([...e,{name:a,url:r}]),n(""),o(""),i(!1)))};return React.createElement("div",{className:"flex flex-col h-full bg-[#0F1117] text-slate-300 font-sans"},React.createElement("div",{className:"flex items-center px-4 bg-gray-900/80 backdrop-blur-xl border-b border-white/5 h-14 shrink-0"},React.createElement("div",{className:"flex items-center flex-1 gap-1 overflow-x-auto no-scrollbar scroll-smooth"},React.createElement("button",{onClick:()=>r(null),className:"flex items-center px-4 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 "+(null===a?"bg-blue-600/10 text-blue-400 border border-blue-500/20 shadow-[0_0_15px_rgba(37,99,235,0.1)]":"text-slate-500 hover:text-slate-200 hover:bg-white/5")},React.createElement(y.Folder,{className:"w-4 h-4 mr-2"}),"Sources"),React.createElement("div",{className:"w-[1px] h-4 bg-white/10 mx-2 shrink-0"}),e.map(((l,n)=>React.createElement("div",{key:n,className:"group flex items-center min-w-fit h-9 px-3 rounded-lg text-sm transition-all duration-200 border "+(a===n?"bg-white/10 text-white border-white/10 shadow-sm":"text-slate-500 border-transparent hover:bg-white/5 hover:text-slate-200")},React.createElement("button",{onClick:()=>r(n),className:"truncate max-w-[140px] font-medium"},l.name),React.createElement("button",{onClick:l=>{l.stopPropagation(),(l=>{const n=e.filter(((e,t)=>t!==l));t(n),a===l?r(null):a>l&&r(a-1)})(n)},className:"ml-2 p-0.5 rounded-md text-slate-600 hover:text-red-400 hover:bg-red-400/10 opacity-0 group-hover:opacity-100 transition-all"},React.createElement(y.Close,{size:14})))))),React.createElement("button",{onClick:()=>i(!0),className:"ml-4 p-2 rounded-xl bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-600/20 transition-all active:scale-95 group",title:"Ajouter une source"},React.createElement(y.Plus,{size:18,className:"group-hover:rotate-90 transition-transform duration-300 w-3"})),React.createElement("a",{href:E,download:"file.php",className:"ml-2 p-2 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white border border-white/10 transition-all active:scale-95",title:"Télécharger le fichier PHP"},React.createElement(y.Download,{size:18})),React.createElement("button",{onClick:()=>{const t=JSON.stringify(e,null,2),a=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download="file-manager-sources.json",l.click(),URL.revokeObjectURL(r)},disabled:0===e.length,className:"p-2 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white border border-white/10 transition-all active:scale-95 disabled:opacity-30 disabled:cursor-not-allowed",title:"Exporter les sources (JSON)"},React.createElement(y.Upload,{size:18})),React.createElement("label",{className:"ml-2 p-2 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white border border-white/10 transition-all active:scale-95 cursor-pointer",title:"Importer des sources (JSON)"},React.createElement(y.Download,{size:18}),React.createElement("input",{type:"file",accept:".json,application/json",onChange:a=>{const r=a.target.files?.[0];if(!r)return;const l=new FileReader;l.onload=a=>{try{const r=JSON.parse(a.target.result);if(!Array.isArray(r))return;const l=r.filter((e=>e&&"object"==typeof e&&"string"==typeof e.url&&e.url.trim())).map(((e,t)=>({name:"string"==typeof e.name&&e.name.trim()?e.name.trim():`Source ${t+1}`,url:e.url.trim()}))).filter((t=>!e.some((e=>e.url===t.url))));l.length>0&&t([...e,...l])}catch{}},l.readAsText(r),a.target.value=""},className:"hidden"}))),React.createElement("div",{className:"flex-1 overflow-y-auto relative"},null===a?React.createElement("div",{className:"w-full p-8 animate-in fade-in slide-in-from-bottom-2 duration-500"},React.createElement("header",{className:"mb-10"},React.createElement("h2",{className:"text-3xl font-bold text-white tracking-tight"},"Gestionnaire de fichiers"),React.createElement("p",{className:"text-slate-500 mt-2"},"Sélectionnez une source pour explorer vos fichiers ou ajoutez-en une nouvelle.")),e.length>0?React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"},e.map(((e,t)=>React.createElement("button",{key:t,onClick:()=>r(t),className:"group relative flex flex-col p-6 rounded-2xl bg-[#161922] border border-white/5 hover:border-blue-500/50 transition-all hover:shadow-2xl hover:shadow-blue-500/10 text-left overflow-hidden"},React.createElement("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-blue-500/5 rounded-full blur-2xl group-hover:bg-blue-500/10 transition-colors"}),React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("div",{className:"p-3 rounded-xl bg-blue-500/10 text-blue-400 group-hover:scale-110 transition-transform duration-300"},React.createElement(y.Folder,{size:24})),React.createElement("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-600 bg-black/20 px-2 py-1 rounded"},"URL Distante")),React.createElement("div",{className:"font-bold text-lg text-slate-100 group-hover:text-blue-400 transition-colors truncate"},e.name),React.createElement("div",{className:"text-xs text-slate-500 font-mono truncate mt-2 bg-black/30 p-2 rounded-lg border border-white/5"},e.url))))):React.createElement("div",{className:"flex flex-col items-center justify-center py-24 border-2 border-dashed border-white/5 rounded-[2rem] bg-white/[0.01]"},React.createElement("div",{className:"w-20 h-20 bg-gray-900 rounded-3xl flex items-center justify-center mb-6 text-slate-700 shadow-inner"},React.createElement(y.Folder,{size:40})),React.createElement("h3",{className:"text-xl font-medium text-slate-300"},"Aucune source configurée"),React.createElement("p",{className:"text-slate-500 mt-2 mb-8 text-center max-w-xs"},"Connectez votre premier serveur de fichiers pour commencer l'exploration."),React.createElement("div",{className:"flex items-center gap-4"},React.createElement("button",{onClick:()=>i(!0),className:"flex items-center px-6 py-3 bg-white text-black rounded-xl font-bold hover:bg-slate-200 transition-all active:scale-95"},React.createElement(y.Plus,{size:18,className:"mr-2"}),"Ajouter une source"),React.createElement("a",{href:E,download:"file.php",className:"flex items-center px-6 py-3 bg-white/5 text-slate-300 rounded-xl font-medium hover:bg-white/10 border border-white/10 transition-all active:scale-95"},React.createElement(y.Download,{size:18,className:"mr-2"}),"Télécharger le PHP")))):e[a]&&React.createElement("div",{className:"h-full animate-in fade-in duration-500"},React.createElement(R,{key:`${a}-${e[a].url}`,baseUrl:e[a].url}))),React.createElement(m,{isOpen:s,onClose:()=>{i(!1),n(""),o("")},title:"Nouvelle Connexion"},React.createElement("div",{className:"space-y-6 p-1"},React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider ml-1"},"Nom descriptif"),React.createElement("input",{type:"text",value:l,onChange:e=>n(e.target.value),className:"w-full bg-[#0F1117] border border-white/10 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500 outline-none transition-all placeholder:text-slate-700",placeholder:"ex: Serveur de Production",autoFocus:!0})),React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider ml-1"},"URL de l'API"),React.createElement("input",{type:"text",value:c,onChange:e=>o(e.target.value),onKeyDown:e=>"Enter"===e.key&&d(),className:"w-full bg-[#0F1117] border border-white/10 rounded-xl px-4 py-3 text-sm font-mono focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500 outline-none transition-all placeholder:text-slate-700",placeholder:"https://api.votre-domaine.com"})),React.createElement("div",{className:"flex gap-3 pt-2"},React.createElement("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium text-slate-400 hover:bg-white/5 transition-colors"},"Annuler"),React.createElement("button",{onClick:d,disabled:!l.trim()||!c.trim(),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-500 disabled:opacity-20 disabled:cursor-not-allowed rounded-xl text-sm font-bold text-white shadow-[0_10px_20px_rgba(37,99,235,0.2)] transition-all active:scale-[0.98]"},"Ajouter la source")))))};