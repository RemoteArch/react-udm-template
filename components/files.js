function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t){if(null!=t){var r=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(e(t)+" is not iterable")}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,r||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof s?n:s,u=Object.create(l.prototype);return i(u,"_invoke",function(r,n,a){var o,l,i,s=0,u=a||[],m=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,l=0,i=e,d.n=r,c}};function p(r,n){for(l=r,i=n,t=0;!m&&s&&!a&&t<u.length;t++){var a,o=u[t],p=d.p,f=o[2];r>3?(a=f===n)&&(i=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=r<2&&p<o[1])?(l=0,d.v=n,d.n=o[1]):p<f&&(a=r<3||o[0]>n||n>f)&&(o[4]=r,o[5]=n,d.n=f,l=0))}if(a||r>1)return c;throw m=!0,n}return function(a,u,f){if(s>1)throw TypeError("Generator is already running");for(m&&1===u&&p(u,f),l=u,i=f;(t=l<2?e:i)||!m;){o||(l?l<3?(l>1&&(d.n=-1),p(l,i)):d.n=i:d.v=i);try{if(s=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(m=d.n<0)?i:r.call(n,d))!==c)break}catch(t){o=e,l=1,i=t}finally{s=1}}return{value:t,done:m}}}(r,a,o),!0),u}var c={};function s(){}function u(){}function m(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(i(t={},n,function(){return this}),t),p=m.prototype=s.prototype=Object.create(d);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=m,i(p,"constructor",m),i(m,"constructor",u),u.displayName="GeneratorFunction",i(m,a,"GeneratorFunction"),i(p),i(p,a,"Generator"),i(p,n,function(){return this}),i(p,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:f}})()}function i(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}i=function(e,t,r,n){function o(t,r){i(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(o("next",0),o("throw",1),o("return",2))},i(e,t,r,n)}function s(e,t,r,n,a,o,c){try{var l=e[o](c),i=l.value}catch(e){return void r(e)}l.done?t(i):Promise.resolve(i).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function c(e){s(o,n,a,c,l,"next",e)}function l(e){s(o,n,a,c,l,"throw",e)}c(void 0)})}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,c,l=[],i=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){s=!0,a=e}finally{try{if(!i&&null!=r.return&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw a}}return l}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var f=React,h=f.useState,b=f.useEffect,x=f.useCallback,v=f.useMemo,y=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join("/").replace(/\/+/g,"/")},g=function(e,t){if(t)return P.Folder;switch(e.split(".").pop().toLowerCase()){case"txt":case"md":case"log":return P.FileText;case"js":case"jsx":case"ts":case"tsx":case"html":case"css":case"json":case"py":return P.FileCode;case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":return P.FileImage;case"zip":case"rar":case"7z":case"gz":return P.FileZip;default:return P.File}},E=function(e){var t=e.path,r=e.onNavigate,n=t.split("/").filter(Boolean);return React.createElement("div",{className:"flex items-center gap-1 text-sm overflow-x-auto whitespace-nowrap scrollbar-hide"},React.createElement("button",{onClick:function(){return r("")},className:"px-2 py-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white transition-colors flex items-center gap-1.5"},React.createElement(P.Home,{className:"w-3.5 h-3.5"}),React.createElement("span",{className:"font-medium"},"root")),n.map(function(e,t){return React.createElement(React.Fragment,{key:t},React.createElement(P.ChevronRight,{className:"w-3 h-3 text-gray-600"}),React.createElement("button",{onClick:function(){return r(n.slice(0,t+1).join("/"))},className:"px-2 py-1 hover:bg-gray-800 rounded text-gray-400 hover:text-white transition-colors font-medium"},e))}))},R=function(e){var t=e.item,r=e.isSelected,n=e.onSelect,a=e.onOpen,o=e.onContextMenu,c=g(t.name,t.isDir);return React.createElement("div",{onClick:n,onDoubleClick:a,onContextMenu:o,className:"flex flex-col items-center p-3 rounded-xl cursor-default select-none transition-all group border\n        ".concat(r?"bg-blue-600/20 border-blue-500/50 shadow-[0_0_15px_rgba(59,130,246,0.1)]":"bg-transparent border-transparent hover:bg-gray-800/40 hover:border-gray-700/50")},React.createElement("div",{className:"relative p-3 rounded-lg mb-2 transition-transform duration-200 group-hover:scale-110\n        ".concat(t.isDir?"text-blue-400":"text-gray-400")},React.createElement(c,{className:"w-12 h-12"}),t.isDir&&React.createElement("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-gray-900 border border-gray-700 rounded-full flex items-center justify-center scale-0 group-hover:scale-100 transition-transform"})),React.createElement("span",{className:"text-[11px] font-medium text-center truncate w-full px-1",title:t.name},t.name))},w=function(e){var t=e.item,r=e.isSelected,n=e.onSelect,a=e.onOpen,o=e.onContextMenu,c=g(t.name,t.isDir);return React.createElement("div",{onClick:n,onDoubleClick:a,onContextMenu:o,className:"flex items-center gap-4 px-4 py-2 cursor-default select-none transition-colors\n        ".concat(r?"bg-blue-600/20 text-blue-400":"hover:bg-gray-800/50 text-gray-300")},React.createElement("div",{className:"flex-shrink-0 ".concat(t.isDir?"text-blue-400":"text-gray-500")},React.createElement(c,{className:"w-4 h-4"})),React.createElement("div",{className:"flex-1 min-w-0 font-medium text-sm truncate"},t.name),React.createElement("div",{className:"w-24 text-right text-xs font-mono text-gray-500"},t.isDir?"-":function(e){if(0===e)return"0 B";var t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]}(t.size)),React.createElement("div",{className:"w-36 text-right text-xs font-mono text-gray-500"},function(e){if(!e)return"-";var t=new Date(e);return Number.isNaN(t.getTime())?"-":t.toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}(t.modifiedAt)))},N=function(e){var t=e.x,r=e.y,n=e.items,a=e.onClose;return b(function(){var e=function(){return a()};return window.addEventListener("click",e),function(){return window.removeEventListener("click",e)}},[a]),React.createElement("div",{className:"fixed z-[9999] w-56 bg-gray-900/95 backdrop-blur-xl border border-gray-800 rounded-lg shadow-2xl py-1 animate-in fade-in zoom-in duration-100",style:{top:r,left:t},onClick:function(e){return e.stopPropagation()}},n.map(function(e,t){return e.separator?React.createElement("div",{key:t,className:"my-1 border-t border-gray-800"}):React.createElement("button",{key:t,onClick:function(){e.onClick(),a()},className:"w-full flex items-center gap-3 px-3 py-1.5 text-xs font-medium text-gray-300 hover:bg-blue-600 hover:text-white transition-colors group"},e.icon&&React.createElement(e.icon,{className:"w-3.5 h-3.5 text-gray-500 group-hover:text-white"}),React.createElement("span",null,e.label))}))},k=function(e){var t=e.isOpen,r=e.onClose,n=e.title,a=e.children,o=e.size,c=void 0===o?"md":o;if(!t)return null;return React.createElement("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200"},React.createElement("div",{className:"w-full ".concat({sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"}[c]," bg-gray-900 border border-gray-800 rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in duration-300"),onClick:function(e){return e.stopPropagation()}},React.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-800"},React.createElement("h3",{className:"text-sm font-bold text-gray-200 uppercase tracking-wider"},n),React.createElement("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-lg text-gray-500 hover:text-white transition-colors"},React.createElement(P.Close,{className:"w-4 h-4"}))),React.createElement("div",{className:"p-6"},a)))},C=function(e){var t=e.path,r=e.content,n=e.isNew,a=e.onSave,o=e.onClose,c=m(h(r),2),i=c[0],s=c[1],d=m(h(n?"":t.split("/").pop()),2),p=d[0],f=d[1],b=m(h(!1),2),x=b[0],v=b[1],g=function(){var e=u(l().m(function e(){var r;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return v(!0),e.p=1,r=n?y(t,p):t,e.n=2,a(r,i);case 2:return e.p=2,v(!1),e.f(2);case 3:return e.a(2)}},e,null,[[1,,2,3]])}));return function(){return e.apply(this,arguments)}}();return React.createElement("div",{className:"flex flex-col gap-4"},n&&React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Nom du fichier"),React.createElement("input",{type:"text",value:p,onChange:function(e){return f(e.target.value)},className:"w-full bg-black border border-gray-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors",placeholder:"script.js",autoFocus:!0})),React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Contenu"),React.createElement("textarea",{value:i,onChange:function(e){return s(e.target.value)},className:"w-full h-96 bg-black border border-gray-800 rounded-lg px-4 py-3 text-sm font-mono focus:outline-none focus:border-blue-500 transition-colors resize-none",spellCheck:"false"})),React.createElement("div",{className:"flex justify-end gap-3 mt-2"},React.createElement("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:g,disabled:x||n&&!p,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg text-sm font-bold transition-all shadow-lg shadow-blue-600/20"},x?"Enregistrement...":"Enregistrer")))},j=function(e){var t=e.currentPath,r=e.onCreate,n=e.onClose,a=m(h(""),2),o=a[0],c=a[1],i=m(h(!1),2),s=i[0],d=i[1],p=function(){var e=u(l().m(function e(a){return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(a.preventDefault(),o.trim()){e.n=1;break}return e.a(2);case 1:return d(!0),e.p=2,e.n=3,r(y(t,o.trim()));case 3:n();case 4:return e.p=4,d(!1),e.f(4);case 5:return e.a(2)}},e,null,[[2,,4,5]])}));return function(t){return e.apply(this,arguments)}}();return React.createElement("form",{onSubmit:p,className:"flex flex-col gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Nom du dossier"),React.createElement("input",{type:"text",value:o,onChange:function(e){return c(e.target.value)},className:"w-full bg-black border border-gray-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors",placeholder:"Nouveau dossier",autoFocus:!0})),React.createElement("div",{className:"flex justify-end gap-3"},React.createElement("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{type:"submit",disabled:s||!o.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all"},"Créer")))},S=function(e){var t=e.currentPath,n=e.onUpload,i=e.onUploadComplete,s=e.onClose,d=m(h([]),2),p=d[0],f=d[1],b=m(h({}),2),x=b[0],v=b[1],y=m(h(!1),2),g=y[0],E=y[1],R=function(){var e=u(l().m(function e(){var u,m,d,f;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:E(!0),u=c(p),e.p=1,d=l().m(function e(){var r;return l().w(function(e){for(;;)switch(e.n){case 0:return r=m.value,e.n=1,n(t,r,function(e){v(function(t){return a(a({},t),{},o({},r.name,e))})});case 1:return e.a(2)}},e)}),u.s();case 2:if((m=u.n()).done){e.n=4;break}return e.d(r(d()),3);case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,f=e.v,u.e(f);case 6:return e.p=6,u.f(),e.f(6);case 7:E(!1),i?i():s();case 8:return e.a(2)}},e,null,[[1,5,6,7]])}));return function(){return e.apply(this,arguments)}}();return React.createElement("div",{className:"flex flex-col gap-6"},React.createElement("div",{className:"relative group"},React.createElement("input",{type:"file",multiple:!0,onChange:function(e){f(Array.from(e.target.files))},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),React.createElement("div",{className:"border-2 border-dashed border-gray-800 group-hover:border-blue-500/50 rounded-2xl p-8 transition-colors text-center"},React.createElement(P.Upload,{className:"w-10 h-10 text-gray-600 group-hover:text-blue-400 mx-auto mb-3 transition-colors"}),React.createElement("p",{className:"text-sm text-gray-400 group-hover:text-gray-300"},p.length>0?"".concat(p.length," fichiers sélectionnés"):"Cliquez ou glissez-déposez pour uploader"))),p.length>0&&React.createElement("div",{className:"max-h-48 overflow-y-auto space-y-2 px-1"},p.map(function(e){return React.createElement("div",{key:e.name,className:"flex flex-col gap-1.5 p-3 bg-black/50 border border-gray-800 rounded-xl"},React.createElement("div",{className:"flex justify-between items-center text-xs"},React.createElement("span",{className:"font-medium text-gray-300 truncate max-w-[200px]"},e.name),React.createElement("span",{className:"text-gray-500 font-mono"},x[e.name]||0,"%")),React.createElement("div",{className:"h-1 bg-gray-800 rounded-full overflow-hidden"},React.createElement("div",{className:"h-full bg-blue-500 transition-all duration-300 shadow-[0_0_8px_rgba(59,130,246,0.5)]",style:{width:"".concat(x[e.name]||0,"%")}})))})),React.createElement("div",{className:"flex justify-end gap-3 border-t border-gray-800 pt-6"},React.createElement("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:R,disabled:0===p.length||g,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all shadow-lg shadow-blue-600/20"},g?"Transfert en cours...":"Démarrer l'upload")))},z=function(e){var t=e.selectedItems,r=e.onDelete,n=e.onClose,a=m(h(!1),2),o=a[0],c=a[1],i=function(){var e=u(l().m(function e(){return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return c(!0),e.p=1,e.n=2,r();case 2:n();case 3:return e.p=3,c(!1),e.f(3);case 4:return e.a(2)}},e,null,[[1,,3,4]])}));return function(){return e.apply(this,arguments)}}();return React.createElement("div",{className:"flex flex-col gap-4"},React.createElement("div",{className:"flex items-center gap-4 p-4 bg-red-900/10 border border-red-900/20 rounded-xl"},React.createElement(P.Trash,{className:"w-8 h-8 text-red-500"}),React.createElement("div",null,React.createElement("p",{className:"text-sm font-bold text-red-400"},"Confirmer la suppression ?"),React.createElement("p",{className:"text-xs text-red-400/70"},"Cette action est irréversible."))),React.createElement("p",{className:"text-sm text-gray-400 px-1"},"Êtes-vous sûr de vouloir supprimer ",t.length," élément(s) ?"),React.createElement("div",{className:"flex justify-end gap-3 mt-2"},React.createElement("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:i,disabled:o,className:"px-6 py-2 bg-red-600 hover:bg-red-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all shadow-lg shadow-red-600/20"},"Supprimer")))},L=function(e){var t=e.selectedItems,r=e.currentPath,n=e.onZip,a=e.onClose,o=m(h(1===t.length?"".concat(t[0].name,".zip"):"archive.zip"),2),c=o[0],i=o[1],s=m(h(!1),2),d=s[0],p=s[1],f=function(){var e=u(l().m(function e(){var o;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return p(!0),e.p=1,o=t.map(function(e){return y(r,e.name)}),e.n=2,n(y(r,c),o);case 2:a();case 3:return e.p=3,p(!1),e.f(3);case 4:return e.a(2)}},e,null,[[1,,3,4]])}));return function(){return e.apply(this,arguments)}}();return React.createElement("div",{className:"flex flex-col gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Nom de l'archive"),React.createElement("input",{type:"text",value:c,onChange:function(e){return i(e.target.value)},className:"w-full bg-black border border-gray-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors",placeholder:"archive.zip",autoFocus:!0})),React.createElement("div",{className:"flex justify-end gap-3"},React.createElement("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:f,disabled:d||!c.trim(),className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all"},"Compresser")))},O=function(e){var t=e.selectedItem,r=e.currentPath,n=e.onUnzip,a=e.onClose,o=m(h(r),2),c=o[0],i=o[1],s=m(h(!1),2),d=s[0],p=s[1],f=function(){var e=u(l().m(function e(){return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return p(!0),e.p=1,e.n=2,n(y(r,t.name),c);case 2:a();case 3:return e.p=3,p(!1),e.f(3);case 4:return e.a(2)}},e,null,[[1,,3,4]])}));return function(){return e.apply(this,arguments)}}();return React.createElement("div",{className:"flex flex-col gap-4"},React.createElement("div",{className:"p-3 bg-blue-900/10 border border-blue-900/20 rounded-xl mb-2"},React.createElement("p",{className:"text-xs font-bold text-blue-400 uppercase mb-1"},"Archive"),React.createElement("p",{className:"text-sm text-gray-300 font-mono truncate"},t.name)),React.createElement("div",null,React.createElement("label",{className:"block text-[10px] font-bold text-gray-500 uppercase mb-1.5"},"Dossier de destination"),React.createElement("input",{type:"text",value:c,onChange:function(e){return i(e.target.value)},className:"w-full bg-black border border-gray-800 rounded-lg px-4 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors",placeholder:"/destination/path"})),React.createElement("div",{className:"flex justify-end gap-3"},React.createElement("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors"},"Annuler"),React.createElement("button",{onClick:f,disabled:d,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 rounded-lg text-sm font-bold transition-all"},"Extraire")))},F=1048576,P={Folder:function(e){var t=e.className,r=void 0===t?"w-5 h-5":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2z"}))},FolderOpen:function(e){var t=e.className,r=void 0===t?"w-5 h-5":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2"}))},File:function(e){var t=e.className,r=void 0===t?"w-5 h-5":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),React.createElement("polyline",{points:"14 2 14 8 20 8"}))},FileText:function(e){var t=e.className,r=void 0===t?"w-5 h-5":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),React.createElement("polyline",{points:"14 2 14 8 20 8"}),React.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),React.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),React.createElement("line",{x1:"10",y1:"9",x2:"8",y2:"9"}))},FileCode:function(e){var t=e.className,r=void 0===t?"w-5 h-5":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),React.createElement("polyline",{points:"14 2 14 8 20 8"}),React.createElement("path",{d:"m10 13-2 2 2 2"}),React.createElement("path",{d:"m14 17 2-2-2-2"}))},FileImage:function(e){var t=e.className,r=void 0===t?"w-5 h-5":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),React.createElement("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),React.createElement("polyline",{points:"21 15 16 10 5 21"}))},FileZip:function(e){var t=e.className,r=void 0===t?"w-5 h-5":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),React.createElement("polyline",{points:"14 2 14 8 20 8"}),React.createElement("path",{d:"M12 12v6"}),React.createElement("path",{d:"m15 15-3 3-3-3"}))},ChevronRight:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"9 18 15 12 9 6"}))},ChevronDown:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"6 9 12 15 18 9"}))},Plus:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),React.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))},Trash:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"3 6 5 6 21 6"}),React.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),React.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),React.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))},Edit:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),React.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))},Download:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),React.createElement("polyline",{points:"7 10 12 15 17 10"}),React.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))},Upload:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),React.createElement("polyline",{points:"17 8 12 3 7 8"}),React.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"}))},Refresh:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"}),React.createElement("polyline",{points:"21 3 21 8 16 8"}))},Home:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),React.createElement("polyline",{points:"9 22 9 12 15 12 15 22"}))},Copy:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),React.createElement("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}))},Cut:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("circle",{cx:"6",cy:"6",r:"3"}),React.createElement("circle",{cx:"6",cy:"18",r:"3"}),React.createElement("line",{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}),React.createElement("line",{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}),React.createElement("line",{x1:"8.12",y1:"8.12",x2:"12",y2:"12"}))},Archive:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"21 8 21 21 3 21 3 8"}),React.createElement("rect",{x:"1",y:"3",width:"22",height:"5"}),React.createElement("line",{x1:"10",y1:"12",x2:"14",y2:"12"}))},Extract:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),React.createElement("polyline",{points:"7 10 12 5 17 10"}),React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"15"}))},Close:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))},Check:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("polyline",{points:"20 6 9 17 4 12"}))},Save:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),React.createElement("polyline",{points:"17 21 17 13 7 13 7 21"}),React.createElement("polyline",{points:"7 3 7 8 15 8"}))},Grid:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),React.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),React.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),React.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))},List:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),React.createElement("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),React.createElement("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),React.createElement("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),React.createElement("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),React.createElement("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"}))},Search:function(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return React.createElement("svg",{className:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("circle",{cx:"11",cy:"11",r:"8"}),React.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}},A=function(e){var t=e.onRefresh,r=e.onNewFile,n=e.onNewFolder,a=e.onUpload,o=e.onDelete,c=e.onZip,l=e.onUnzip,i=e.selectedCount,s=e.viewMode,u=e.onViewModeChange,m=e.searchQuery,d=e.onSearchChange;return React.createElement("div",{className:"flex items-center gap-2 p-3 bg-gray-900/90 border-b border-gray-800 flex-wrap backdrop-blur-md"},React.createElement("div",{className:"flex items-center gap-1"},React.createElement("button",{onClick:t,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors",title:"Actualiser"},React.createElement(P.Refresh,{className:"w-4 h-4"}))),React.createElement("div",{className:"w-px h-6 bg-gray-800 mx-1"}),React.createElement("div",{className:"flex items-center gap-1"},React.createElement("button",{onClick:r,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors flex items-center gap-2",title:"Nouveau fichier"},React.createElement(P.Plus,{className:"w-4 h-4"}),React.createElement("span",{className:"text-xs font-medium hidden lg:inline"},"Nouveau")),React.createElement("button",{onClick:n,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors",title:"Nouveau dossier"},React.createElement(P.Folder,{className:"w-4 h-4"})),React.createElement("button",{onClick:a,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors flex items-center gap-2",title:"Uploader"},React.createElement(P.Upload,{className:"w-4 h-4"}),React.createElement("span",{className:"text-xs font-medium hidden lg:inline"},"Importer"))),React.createElement("div",{className:"w-px h-6 bg-gray-800 mx-1"}),React.createElement("div",{className:"flex items-center gap-1"},React.createElement("button",{onClick:o,disabled:0===i,className:"p-2 hover:bg-red-950/30 text-gray-400 hover:text-red-400 rounded-md transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Supprimer"},React.createElement(P.Trash,{className:"w-4 h-4"})),React.createElement("button",{onClick:c,disabled:0===i,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Compresser"},React.createElement(P.Archive,{className:"w-4 h-4"})),React.createElement("button",{onClick:l,disabled:1!==i,className:"p-2 hover:bg-gray-800 text-gray-400 hover:text-white rounded-md transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Extraire"},React.createElement(P.Extract,{className:"w-4 h-4"}))),React.createElement("div",{className:"flex-1"}),React.createElement("div",{className:"relative flex items-center"},React.createElement(P.Search,{className:"absolute left-3 w-3.5 h-3.5 text-gray-500"}),React.createElement("input",{type:"text",value:m,onChange:function(e){return d(e.target.value)},placeholder:"Rechercher...",className:"pl-9 pr-3 py-1.5 bg-gray-950/50 border border-gray-800 rounded-lg text-xs w-48 lg:w-64 focus:outline-none focus:border-blue-500/50 focus:bg-gray-950 transition-all"})),React.createElement("div",{className:"flex bg-gray-950/50 p-1 rounded-lg border border-gray-800"},React.createElement("button",{onClick:function(){return u("grid")},className:"p-1.5 rounded-md transition-all ".concat("grid"===s?"bg-gray-800 text-blue-400 shadow-sm":"text-gray-500 hover:text-gray-300")},React.createElement(P.Grid,{className:"w-3.5 h-3.5"})),React.createElement("button",{onClick:function(){return u("list")},className:"p-1.5 rounded-md transition-all ".concat("list"===s?"bg-gray-800 text-blue-400 shadow-sm":"text-gray-500 hover:text-gray-300")},React.createElement(P.List,{className:"w-3.5 h-3.5"}))))},D=function(e){var r,n=e.baseUrl,o=void 0===n?"":n,c=e.className,i=void 0===c?"":c,s=m(h(""),2),d=s[0],p=s[1],f=m(h([]),2),g=f[0],D=f[1],B=m(h(!1),2),M=B[0],T=B[1],U=m(h(null),2),W=U[0],I=U[1],_=m(h(new Set),2),H=_[0],V=_[1],G=m(h("list"),2),J=G[0],Z=G[1],K=m(h(""),2),Q=K[0],q=K[1],X=m(h(null),2),Y=X[0],$=X[1],ee=m(h({type:null,data:null}),2),te=ee[0],re=ee[1],ne=v(function(){return function(e){var t,r=function(){var t=u(l().m(function t(r){var n,o,c,i,s=arguments;return l().w(function(t){for(;;)switch(t.n){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},o="".concat(e).concat(r),t.n=1,fetch(o,a(a({},n),{},{headers:a({"Content-Type":"application/json"},n.headers)}));case 1:return c=t.v,t.n=2,c.json();case 2:if((i=t.v).success){t.n=3;break}throw new Error(i.error||"Erreur API");case 3:return t.a(2,i.data)}},t)}));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=u(l().m(function t(r,n){var a,o,c,i,s,u,m,d,p,f,h,b=arguments;return l().w(function(t){for(;;)switch(t.n){case 0:a=!(b.length>2&&void 0!==b[2])||b[2],o=b.length>3&&void 0!==b[3]?b[3]:null,c=n.size,i=Math.ceil(c/F),s=0;case 1:if(!(s<i)){t.n=6;break}return u=s*F,m=Math.min(u+F,c),d=n.slice(u,m),(p=new FormData).append("path",r),p.append("mkdirs",a?"1":"0"),s>0&&p.append("add","1"),p.append("file",d,n.name),t.n=2,fetch("".concat(e,"/write"),{method:"POST",body:p});case 2:return f=t.v,t.n=3,f.json();case 3:if((h=t.v).success){t.n=4;break}throw new Error(h.error||"Erreur upload");case 4:o&&o(Math.round((s+1)/i*100));case 5:s++,t.n=1;break;case 6:return t.a(2,{success:!0})}},t)}));return function(e,r){return t.apply(this,arguments)}}();return{list:function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r("/list?path=".concat(encodeURIComponent(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""),"&recursive=").concat(e?1:0))},read:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return r("/read?path=".concat(encodeURIComponent(e),"&mode=").concat(t))},write:(t=u(l().m(function t(r,n){var a,o,c,i,s,u=arguments;return l().w(function(t){for(;;)switch(t.n){case 0:return a=!(u.length>2&&void 0!==u[2])||u[2],o=new Blob([n],{type:"application/octet-stream"}),(c=new FormData).append("path",r),c.append("mkdirs",a?"1":"0"),c.append("file",o,r.split("/").pop()),t.n=1,fetch("".concat(e,"/write"),{method:"POST",body:c});case 1:return i=t.v,t.n=2,i.json();case 2:if((s=t.v).success){t.n=3;break}throw new Error(s.error||"Erreur écriture");case 3:return t.a(2,s.data)}},t)})),function(e,r){return t.apply(this,arguments)}),upload:n,delete:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r("/delete",{method:"POST",body:JSON.stringify(a(a({},Array.isArray(e)?{paths:e}:{path:e}),{},{deleteDir:t}))})},mkdir:function(e){return r("/mkdir",{method:"POST",body:JSON.stringify({path:e})})},zip:function(e,t){return r("/zip",{method:"POST",body:JSON.stringify({zipPath:e,paths:t})})},unzip:function(e,t){return r("/unzip",{method:"POST",body:JSON.stringify({zipPath:e,dest:t})})}}}(o)},[o]),ae=x(u(l().m(function e(){var t,r,n,o,c,i,s=arguments;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",T(!0),I(null),V(new Set),e.p=1,e.n=2,ne.list(t);case 2:r=e.v,n=r.items||r||[],o=n.map(function(e){var t,r;return a(a({},e),{},{name:e.name||(null===(t=e.path)||void 0===t?void 0:t.split("/").pop())||e.path,isDir:null!==(r=e.isDir)&&void 0!==r?r:"dir"===e.type})}),c=o.sort(function(e,t){return e.isDir!==t.isDir?t.isDir-e.isDir:e.name.localeCompare(t.name)}),D(c),p(t),e.n=4;break;case 3:e.p=3,i=e.v,I(i.message);case 4:return e.p=4,T(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),[ne]);b(function(){o&&ae("")},[o,ae]);var oe=v(function(){if(!Q)return g;var e=Q.toLowerCase();return g.filter(function(t){return t.name.toLowerCase().includes(e)})},[g,Q]),ce=v(function(){return g.filter(function(e){return H.has(e.name)})},[g,H]),le=function(e,t){if(t.ctrlKey||t.metaKey)V(function(t){var r=new Set(t);return r.has(e.name)?r.delete(e.name):r.add(e.name),r});else if(t.shiftKey&&H.size>0){var r=Array.from(H).pop(),n=g.findIndex(function(e){return e.name===r}),a=g.findIndex(function(t){return t.name===e.name}),o=[Math.min(n,a),Math.max(n,a)],c=o[0],l=o[1];V(new Set(g.slice(c,l+1).map(function(e){return e.name})))}else V(new Set([e.name]))},ie=function(){var e=u(l().m(function e(t){var r,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!t.isDir){e.n=1;break}ae(y(d,t.name)),e.n=4;break;case 1:return e.p=1,e.n=2,ne.read(y(d,t.name),"text");case 2:r=e.v,re({type:"edit",data:{path:y(d,t.name),content:r.content||r}}),e.n=4;break;case 3:e.p=3,n=e.v,I("Impossible de lire le fichier: ".concat(n.message));case 4:return e.a(2)}},e,null,[[1,3]])}));return function(t){return e.apply(this,arguments)}}(),se=function(e,r){r.preventDefault(),H.has(e.name)||V(new Set([e.name])),$({x:r.clientX,y:r.clientY,items:[{label:"Ouvrir",icon:P.FolderOpen,onClick:function(){return ie(e)}},{label:"Renommer",icon:P.Edit,onClick:function(){}},{separator:!0},{label:"Copier",icon:P.Copy,onClick:function(){}},{label:"Couper",icon:P.Cut,onClick:function(){}},{separator:!0},{label:"Compresser",icon:P.Archive,onClick:function(){return re({type:"zip"})}}].concat(t(e.name.endsWith(".zip")?[{label:"Extraire",icon:P.Extract,onClick:function(){return re({type:"unzip",data:e})}}]:[]),[{separator:!0},{label:"Supprimer",icon:P.Trash,onClick:function(){return re({type:"delete"})},danger:!0}])})},ue=function(){var e=u(l().m(function e(t,r){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ne.write(t,r);case 1:ae(d),re({type:null});case 2:return e.a(2)}},e)}));return function(t,r){return e.apply(this,arguments)}}(),me=function(){var e=u(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.n){case 0:return t=ce.map(function(e){return y(d,e.name)}),e.n=1,ne.delete(t);case 1:ae(d),re({type:null});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=u(l().m(function e(t,r,n){var a;return l().w(function(e){for(;;)switch(e.n){case 0:return a=y(t,r.name),e.n=1,ne.upload(a,r,!0,n);case 1:return e.a(2)}},e)}));return function(t,r,n){return e.apply(this,arguments)}}(),pe=function(){var e=u(l().m(function e(t){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ne.mkdir(t);case 1:ae(d),re({type:null});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=u(l().m(function e(t,r){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ne.zip(t,r);case 1:ae(d),re({type:null});case 2:return e.a(2)}},e)}));return function(t,r){return e.apply(this,arguments)}}(),he=function(){var e=u(l().m(function e(t,r){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ne.unzip(t,r);case 1:ae(d),re({type:null});case 2:return e.a(2)}},e)}));return function(t,r){return e.apply(this,arguments)}}();return o?React.createElement("div",{className:"flex flex-col h-full bg-[#0B0F1A] text-slate-200 shadow-2xl overflow-hidden border border-white/5 ".concat(i)},React.createElement(A,{onRefresh:function(){return ae(d)},onNewFile:function(){return re({type:"newFile",data:{path:d}})},onNewFolder:function(){return re({type:"newFolder"})},onUpload:function(){return re({type:"upload"})},onDelete:function(){return re({type:"delete"})},onZip:function(){return re({type:"zip"})},onUnzip:function(){return ce[0]&&re({type:"unzip",data:ce[0]})},selectedCount:H.size,viewMode:J,onViewModeChange:Z,searchQuery:Q,onSearchChange:q}),React.createElement("div",{className:"flex items-center px-4 py-3 bg-white/[0.02] border-b border-white/5 backdrop-blur-md gap-4"},React.createElement("div",{className:"flex items-center bg-black/40 rounded-lg p-1 border border-white/5"},React.createElement("button",{onClick:function(){var e=d.split("/").slice(0,-1).join("/");ae(e)},disabled:!d,className:"p-1.5 hover:bg-white/10 rounded-md disabled:opacity-20 transition-all active:scale-90"},React.createElement(P.ChevronDown,{className:"rotate-90 w-4 h-4"}))),React.createElement("div",{className:"flex-1 overflow-hidden"},React.createElement(E,{path:d,onNavigate:ae}))),W&&React.createElement("div",{className:"mx-4 my-2 px-4 py-3 bg-red-500/10 border border-red-500/20 text-red-400 text-xs rounded-xl flex items-center gap-3 animate-in slide-in-from-top-1"},React.createElement(P.AlertCircle,{size:14}),React.createElement("span",{className:"font-medium"},W)),React.createElement("div",{className:"flex-1 overflow-auto custom-scrollbar relative",onClick:function(){return V(new Set)}},M?React.createElement("div",{className:"flex flex-col items-center justify-center h-full gap-4"},React.createElement("div",{className:"relative"},React.createElement("div",{className:"w-12 h-12 border-2 border-blue-500/20 border-t-blue-500 rounded-full animate-spin"}),React.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},React.createElement(P.Folder,{size:16,className:"text-blue-500 animate-pulse"}))),React.createElement("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-500 animate-pulse"},"Récupération...")):0===oe.length?React.createElement("div",{className:"flex flex-col items-center justify-center h-full opacity-30"},React.createElement(P.FolderOpen,{className:"w-16 h-16 mb-4 stroke-[1px]"}),React.createElement("span",{className:"text-sm font-medium italic"},Q?"Aucun résultat pour cette recherche":"Dossier vide")):"grid"===J?React.createElement("div",{className:"p-6 grid grid-cols-[repeat(auto-fill,minmax(120px,1fr))] gap-6"},oe.map(function(e){return React.createElement(R,{key:e.name,item:e,isSelected:H.has(e.name),onSelect:function(t){t.stopPropagation(),le(e,t)},onOpen:function(){return ie(e)},onContextMenu:function(t){return se(e,t)}})})):React.createElement("div",{className:"flex flex-col"},React.createElement("div",{className:"flex items-center px-6 py-3 text-[10px] font-bold text-slate-500 uppercase tracking-widest border-b border-white/5 sticky top-0 bg-[#0B0F1A]/95 backdrop-blur-sm z-10"},React.createElement("div",{className:"flex-1"},"Nom du fichier"),React.createElement("div",{className:"w-24 text-right"},"Taille"),React.createElement("div",{className:"w-40 text-right"},"Dernière modification")),React.createElement("div",{className:"px-2 py-2"},oe.map(function(e){return React.createElement(w,{key:e.name,item:e,isSelected:H.has(e.name),onSelect:function(t){t.stopPropagation(),le(e,t)},onOpen:function(){return ie(e)},onContextMenu:function(t){return se(e,t)}})})))),React.createElement("div",{className:"px-5 py-2 bg-black/60 border-t border-white/5 text-[10px] text-slate-500 flex justify-between items-center backdrop-blur-xl"},React.createElement("div",{className:"flex items-center gap-4"},React.createElement("div",{className:"flex items-center gap-1.5"},React.createElement("span",{className:"text-slate-300 font-bold"},oe.length),React.createElement("span",null,"éléments")),H.size>0&&React.createElement("div",{className:"flex items-center gap-1.5 text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded-full border border-blue-400/20"},React.createElement(P.Check,{size:10,strokeWidth:3}),React.createElement("span",{className:"font-bold"},H.size," sélectionné(s)"))),React.createElement("div",{className:"flex items-center gap-3 font-mono opacity-50"},React.createElement("span",{className:"truncate max-w-[200px]"},o),React.createElement("div",{className:"w-2 h-2 rounded-full ".concat(M?"bg-amber-500 animate-pulse":"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]")}))),Y&&React.createElement(N,{x:Y.x,y:Y.y,items:Y.items,onClose:function(){return $(null)}}),React.createElement(k,{isOpen:"edit"===te.type,onClose:function(){return re({type:null})},title:(null===(r=te.data)||void 0===r||null===(r=r.path)||void 0===r?void 0:r.split("/").pop())||"Éditeur",size:"xl"},"edit"===te.type&&React.createElement(C,{path:te.data.path,content:te.data.content,onSave:ue,onClose:function(){return re({type:null})}})),React.createElement(k,{isOpen:"newFile"===te.type,onClose:function(){return re({type:null})},title:"Nouveau fichier",size:"xl"},"newFile"===te.type&&React.createElement(C,{path:te.data.path,content:"",isNew:!0,onSave:ue,onClose:function(){return re({type:null})}})),React.createElement(k,{isOpen:"newFolder"===te.type,onClose:function(){return re({type:null})},title:"Nouveau dossier",size:"sm"},"newFolder"===te.type&&React.createElement(j,{currentPath:d,onCreate:pe,onClose:function(){return re({type:null})}})),React.createElement(k,{isOpen:"upload"===te.type,onClose:function(){return re({type:null})},title:"Uploader des fichiers",size:"md"},"upload"===te.type&&React.createElement(S,{currentPath:d,onUpload:de,onUploadComplete:function(){ae(d),re({type:null})},onClose:function(){return re({type:null})}})),React.createElement(k,{isOpen:"delete"===te.type,onClose:function(){return re({type:null})},title:"Confirmer la suppression",size:"sm"},"delete"===te.type&&React.createElement(z,{selectedItems:ce,onDelete:me,onClose:function(){return re({type:null})}})),React.createElement(k,{isOpen:"zip"===te.type,onClose:function(){return re({type:null})},title:"Compresser",size:"sm"},"zip"===te.type&&React.createElement(L,{selectedItems:ce,currentPath:d,onZip:fe,onClose:function(){return re({type:null})}})),React.createElement(k,{isOpen:"unzip"===te.type,onClose:function(){return re({type:null})},title:"Extraire",size:"sm"},"unzip"===te.type&&te.data&&React.createElement(O,{selectedItem:te.data,currentPath:d,onUnzip:he,onClose:function(){return re({type:null})}}))):React.createElement("div",{className:"flex flex-col items-center justify-center h-64 bg-[#0B0F1A] text-slate-500 rounded-2xl border-2 border-dashed border-white/5 ".concat(i)},React.createElement(P.AlertTriangle,{className:"w-8 h-8 mb-2 opacity-20"}),React.createElement("p",{className:"text-sm font-medium italic"},"Veuillez configurer le baseUrl du serveur"))},B="http://cdn.jsdelivr.net/gh/remotearch/php-api-template/file.php";export default function(){var r=m(React.useState(function(){var t=localStorage.getItem("fileManagerUrls");if(!t)return[];try{var r=JSON.parse(t);return Array.isArray(r)?0===r.length?[]:"string"==typeof r[0]?r.map(function(e,t){return{name:String(e).replace(/^.*\//,"")||"Source ".concat(t+1),url:String(e)}}):r.filter(function(t){return t&&"object"===e(t)}).map(function(e,t){return{name:"string"==typeof e.name&&e.name.trim()?e.name.trim():"Source ".concat(t+1),url:"string"==typeof e.url?e.url:""}}).filter(function(e){return e.url}):[]}catch(e){return[]}}),2),n=r[0],a=r[1],o=m(React.useState(null),2),c=o[0],l=o[1],i=m(React.useState(""),2),s=i[0],u=i[1],d=m(React.useState(""),2),p=d[0],f=d[1],h=m(React.useState(!1),2),b=h[0],x=h[1];React.useEffect(function(){localStorage.setItem("fileManagerUrls",JSON.stringify(n))},[n]);var v=function(){var e=s.trim(),r=p.trim();e&&r&&(n.some(function(e){return e.url===r})||(a([].concat(t(n),[{name:e,url:r}])),u(""),f(""),x(!1)))};return React.createElement("div",{className:"flex flex-col h-full bg-[#0F1117] text-slate-300 font-sans"},React.createElement("div",{className:"flex items-center px-4 bg-gray-900/80 backdrop-blur-xl border-b border-white/5 h-14 shrink-0"},React.createElement("div",{className:"flex items-center flex-1 gap-1 overflow-x-auto no-scrollbar scroll-smooth"},React.createElement("button",{onClick:function(){return l(null)},className:"flex items-center px-4 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 ".concat(null===c?"bg-blue-600/10 text-blue-400 border border-blue-500/20 shadow-[0_0_15px_rgba(37,99,235,0.1)]":"text-slate-500 hover:text-slate-200 hover:bg-white/5")},React.createElement(P.Folder,{className:"w-4 h-4 mr-2"}),"Sources"),React.createElement("div",{className:"w-[1px] h-4 bg-white/10 mx-2 shrink-0"}),n.map(function(e,t){return React.createElement("div",{key:t,className:"group flex items-center min-w-fit h-9 px-3 rounded-lg text-sm transition-all duration-200 border ".concat(c===t?"bg-white/10 text-white border-white/10 shadow-sm":"text-slate-500 border-transparent hover:bg-white/5 hover:text-slate-200")},React.createElement("button",{onClick:function(){return l(t)},className:"truncate max-w-[140px] font-medium"},e.name),React.createElement("button",{onClick:function(e){e.stopPropagation(),function(e){var t=n.filter(function(t,r){return r!==e});a(t),c===e?l(null):c>e&&l(c-1)}(t)},className:"ml-2 p-0.5 rounded-md text-slate-600 hover:text-red-400 hover:bg-red-400/10 opacity-0 group-hover:opacity-100 transition-all"},React.createElement(P.Close,{size:14})))})),React.createElement("button",{onClick:function(){return x(!0)},className:"ml-4 p-2 rounded-xl bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-600/20 transition-all active:scale-95 group",title:"Ajouter une source"},React.createElement(P.Plus,{size:18,className:"group-hover:rotate-90 transition-transform duration-300 w-3"})),React.createElement("a",{href:B,download:"file.php",className:"ml-2 p-2 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white border border-white/10 transition-all active:scale-95",title:"Télécharger le fichier PHP"},React.createElement(P.Download,{size:18})),React.createElement("button",{onClick:function(){var e=JSON.stringify(n,null,2),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="file-manager-sources.json",a.click(),URL.revokeObjectURL(r)},disabled:0===n.length,className:"p-2 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white border border-white/10 transition-all active:scale-95 disabled:opacity-30 disabled:cursor-not-allowed",title:"Exporter les sources (JSON)"},React.createElement(P.Upload,{size:18})),React.createElement("label",{className:"ml-2 p-2 rounded-xl bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white border border-white/10 transition-all active:scale-95 cursor-pointer",title:"Importer des sources (JSON)"},React.createElement(P.Download,{size:18}),React.createElement("input",{type:"file",accept:".json,application/json",onChange:function(r){var o,c=null===(o=r.target.files)||void 0===o?void 0:o[0];if(c){var l=new FileReader;l.onload=function(r){try{var o=JSON.parse(r.target.result);if(!Array.isArray(o))return;var c=o.filter(function(t){return t&&"object"===e(t)&&"string"==typeof t.url&&t.url.trim()}).map(function(e,t){return{name:"string"==typeof e.name&&e.name.trim()?e.name.trim():"Source ".concat(t+1),url:e.url.trim()}}).filter(function(e){return!n.some(function(t){return t.url===e.url})});c.length>0&&a([].concat(t(n),t(c)))}catch(e){}},l.readAsText(c),r.target.value=""}},className:"hidden"}))),React.createElement("div",{className:"flex-1 overflow-y-auto relative"},null===c?React.createElement("div",{className:"w-full p-8 animate-in fade-in slide-in-from-bottom-2 duration-500"},React.createElement("header",{className:"mb-10"},React.createElement("h2",{className:"text-3xl font-bold text-white tracking-tight"},"Gestionnaire de fichiers"),React.createElement("p",{className:"text-slate-500 mt-2"},"Sélectionnez une source pour explorer vos fichiers ou ajoutez-en une nouvelle.")),n.length>0?React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"},n.map(function(e,t){return React.createElement("button",{key:t,onClick:function(){return l(t)},className:"group relative flex flex-col p-6 rounded-2xl bg-[#161922] border border-white/5 hover:border-blue-500/50 transition-all hover:shadow-2xl hover:shadow-blue-500/10 text-left overflow-hidden"},React.createElement("div",{className:"absolute -right-4 -top-4 w-24 h-24 bg-blue-500/5 rounded-full blur-2xl group-hover:bg-blue-500/10 transition-colors"}),React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("div",{className:"p-3 rounded-xl bg-blue-500/10 text-blue-400 group-hover:scale-110 transition-transform duration-300"},React.createElement(P.Folder,{size:24})),React.createElement("span",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-600 bg-black/20 px-2 py-1 rounded"},"URL Distante")),React.createElement("div",{className:"font-bold text-lg text-slate-100 group-hover:text-blue-400 transition-colors truncate"},e.name),React.createElement("div",{className:"text-xs text-slate-500 font-mono truncate mt-2 bg-black/30 p-2 rounded-lg border border-white/5"},e.url))})):React.createElement("div",{className:"flex flex-col items-center justify-center py-24 border-2 border-dashed border-white/5 rounded-[2rem] bg-white/[0.01]"},React.createElement("div",{className:"w-20 h-20 bg-gray-900 rounded-3xl flex items-center justify-center mb-6 text-slate-700 shadow-inner"},React.createElement(P.Folder,{size:40})),React.createElement("h3",{className:"text-xl font-medium text-slate-300"},"Aucune source configurée"),React.createElement("p",{className:"text-slate-500 mt-2 mb-8 text-center max-w-xs"},"Connectez votre premier serveur de fichiers pour commencer l'exploration."),React.createElement("div",{className:"flex items-center gap-4"},React.createElement("button",{onClick:function(){return x(!0)},className:"flex items-center px-6 py-3 bg-white text-black rounded-xl font-bold hover:bg-slate-200 transition-all active:scale-95"},React.createElement(P.Plus,{size:18,className:"mr-2"}),"Ajouter une source"),React.createElement("a",{href:B,download:"file.php",className:"flex items-center px-6 py-3 bg-white/5 text-slate-300 rounded-xl font-medium hover:bg-white/10 border border-white/10 transition-all active:scale-95"},React.createElement(P.Download,{size:18,className:"mr-2"}),"Télécharger le PHP")))):n[c]&&React.createElement("div",{className:"h-full animate-in fade-in duration-500"},React.createElement(D,{key:"".concat(c,"-").concat(n[c].url),baseUrl:n[c].url}))),React.createElement(k,{isOpen:b,onClose:function(){x(!1),u(""),f("")},title:"Nouvelle Connexion"},React.createElement("div",{className:"space-y-6 p-1"},React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider ml-1"},"Nom descriptif"),React.createElement("input",{type:"text",value:s,onChange:function(e){return u(e.target.value)},className:"w-full bg-[#0F1117] border border-white/10 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500 outline-none transition-all placeholder:text-slate-700",placeholder:"ex: Serveur de Production",autoFocus:!0})),React.createElement("div",{className:"space-y-2"},React.createElement("label",{className:"text-[11px] font-bold text-slate-500 uppercase tracking-wider ml-1"},"URL de l'API"),React.createElement("input",{type:"text",value:p,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&v()},className:"w-full bg-[#0F1117] border border-white/10 rounded-xl px-4 py-3 text-sm font-mono focus:ring-2 focus:ring-blue-500/40 focus:border-blue-500 outline-none transition-all placeholder:text-slate-700",placeholder:"https://api.votre-domaine.com"})),React.createElement("div",{className:"flex gap-3 pt-2"},React.createElement("button",{onClick:function(){return x(!1)},className:"flex-1 px-4 py-3 rounded-xl text-sm font-medium text-slate-400 hover:bg-white/5 transition-colors"},"Annuler"),React.createElement("button",{onClick:v,disabled:!s.trim()||!p.trim(),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-500 disabled:opacity-20 disabled:cursor-not-allowed rounded-xl text-sm font-bold text-white shadow-[0_10px_20px_rgba(37,99,235,0.2)] transition-all active:scale-[0.98]"},"Ajouter la source")))))}